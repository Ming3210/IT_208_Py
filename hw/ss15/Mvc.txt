ğŸ”µ 2. Táº§ng 1 â€“ Presentation Layer (Frontend)

ÄÃ¢y lÃ  pháº§n ngÆ°á»i dÃ¹ng tÆ°Æ¡ng tÃ¡c gá»“m:

âœ” Web Client (Odoo Web UI)

Viáº¿t báº±ng JavaScript, framework QWeb & Owl (tá»« Odoo 14+).

Sá»­ dá»¥ng JSON-RPC Ä‘á»ƒ giao tiáº¿p vá»›i Odoo server.

Render giao diá»‡n nhÆ° form view, list view, kanban, dashboardsâ€¦

âœ” Mobile / External Apps

DÃ¹ng JSON-RPC hoáº·c REST API (community modules).

CÃ³ thá»ƒ káº¿t ná»‘i qua XML-RPC, JSON-RPC, GraphQL (náº¿u cÃ i thÃªm module).

âœ” Website / eCommerce

Giao diá»‡n render báº±ng QWeb Templates.

Nhiá»‡m vá»¥ chÃ­nh

Hiá»ƒn thá»‹ UI

Gá»­i request Ä‘áº¿n application layer

Nháº­n láº¡i dá»¯ liá»‡u Ä‘Ã£ xá»­ lÃ½

ğŸŸ¢ 3. Táº§ng 2 â€“ Application Layer (Odoo Server)

ÄÃ¢y lÃ  trÃ¡i tim cá»§a há»‡ thá»‘ng.

ThÃ nh pháº§n chÃ­nh
âœ” Odoo Server (Python)

Nháº­n request tá»« trÃ¬nh duyá»‡t â†’ xá»­ lÃ½ â†’ tráº£ káº¿t quáº£.

Chá»‹u trÃ¡ch nhiá»‡m báº£o máº­t, routing, session management.

âœ” Module Layer

Odoo dá»±a trÃªn cÆ¡ cháº¿ module má»Ÿ rá»™ng:

CRM

Accounting

Inventory

HR

Custom modulesâ€¦

Module chá»©a:

Python models

Business logic

Views (XML/QWeb)

Data files

âœ” ORM Layer (Object Relational Mapping)

Chuyá»ƒn Python objects â†” báº£ng PostgreSQL

Tá»± sinh SQL queries

Äáº£m báº£o tÃ­nh nháº¥t quÃ¡n dá»¯ liá»‡u

âœ” Business Logic

Workflow

Access rights

Compute fields

Automation (scheduled actions)

Business rules

âœ” API Layer

JSON-RPC

XML-RPC

HTTP controllers

Websocket (tá»« Odoo 16 Enterprise)

Nhiá»‡m vá»¥ chÃ­nh

Xá»­ lÃ½ logic nghiá»‡p vá»¥

Äiá»u khiá»ƒn mÃ´ hÃ¬nh dá»¯ liá»‡u

Truy xuáº¥t/ghi dá»¯ liá»‡u xuá»‘ng DB

Render response cho frontend

ğŸ”´ 4. Táº§ng 3 â€“ Data Layer (PostgreSQL Database)

Odoo sá»­ dá»¥ng PostgreSQL 100%, khÃ´ng há»— trá»£ MySQL.

âœ” Má»—i database = má»™t instance Odoo logic (multi-tenant)

Má»™t Odoo server cÃ³ thá»ƒ chá»©a nhiá»u database:

odoo -d db1
odoo -d db2

âœ” Database lÆ°u:

Users, ACL, groups

Products, orders, invoices

Views, settings, translations

Custom modules (dá»¯ liá»‡u cáº¥u hÃ¬nh vÃ  metadata)

Logs, parameters

âœ” Hot features cá»§a PostgreSQL mÃ  Odoo táº­n dá»¥ng:

JSONB fields

Index & partial index

Materialized view (PSE)

Full-text search

Row-level locking

ğŸ§© 5. Luá»“ng hoáº¡t Ä‘á»™ng Ä‘iá»ƒn hÃ¬nh cá»§a Odoo

VÃ­ dá»¥ ngÆ°á»i dÃ¹ng má»Ÿ danh sÃ¡ch sáº£n pháº©m:

User â†’ click "Products"

Browser gá»­i JSON-RPC request

Odoo nháº­n request â†’ ORM query Ä‘áº¿n PostgreSQL

PostgreSQL tráº£ data

Odoo xá»­ lÃ½ (domains, security rules, compute fields)

Gá»­i JSON tá»›i frontend

Web client render giao diá»‡n

ğŸ³ 6. Kiáº¿n trÃºc 3 táº§ng Odoo khi cháº¡y báº±ng Docker

Má»™t cáº¥u hÃ¬nh production phá»• biáº¿n:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Nginx     â”‚ â†’   â”‚  Odoo Container  â”‚ â†’   â”‚  PostgreSQL DB â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Nginx: reverse proxy, SSL termination

Odoo: application layer

PostgreSQL: data layer

CÃ³ thá»ƒ thÃªm Redis Ä‘á»ƒ tÄƒng tá»‘c session & longpolling

ğŸ§  7. VÃ¬ sao Odoo dÃ¹ng kiáº¿n trÃºc 3 táº§ng?

Dá»… má»Ÿ rá»™ng (scale tá»«ng táº§ng riÃªng)

Báº£o máº­t hÆ¡n (DB tÃ¡ch biá»‡t)

Dá»… báº£o trÃ¬ vÃ  backup

CÃ³ thá»ƒ load balancing application layer

Há»— trá»£ nhiá»u giao diá»‡n (Web, Mobile, API)

Náº¿u báº¡n cáº§n, mÃ¬nh cÃ³ thá»ƒ gá»­i luÃ´n:
âœ” sÆ¡ Ä‘á»“ kiáº¿n trÃºc Odoo dáº¡ng hÃ¬nh áº£nh
âœ” kiáº¿n trÃºc Odoo dÃ¹ng Docker Compose